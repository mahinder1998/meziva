<section class="sw-min-h-screen sw-w-full sw-relative sw-overflow-hidden sw-bg-gradient-to-br sw-from-[#FFF6FA] sw-via-[#FFE9F3] sw-to-[#FFF9F1] sw-text-[#111111]">

  <div class="sw-relative sw-z-10 sw-w-full sw-max-w-6xl sw-mx-auto sw-px-5 sm:sw-px-8 sw-py-10 sm:sw-py-14">
    <!-- Top bar -->
    <div class="sw-flex sw-items-center sw-justify-between sw-gap-4 sw-mb-10">
      <div class="sw-flex sw-items-center sw-gap-3">
        {% if section.settings.logo != blank %}
          <img
            src="{{ section.settings.logo | image_url: width: 220 }}"
            alt="{{ shop.name | escape }}"
            class="sw-h-10 sw-w-auto"
            loading="lazy"
          >
        {% else %}
          <div class="sw-text-lg sw-font-semibold sw-tracking-tight">{{ shop.name }}</div>
        {% endif %}

        <span class="sw-hidden sm:sw-inline-flex sw-items-center sw-gap-2 sw-rounded-full sw-border sw-border-black/10 sw-bg-white/60 sw-backdrop-blur sw-px-3 sw-py-1 sw-text-xs">
          <span class="sw-inline-block sw-h-2 sw-w-2 sw-rounded-full sw-bg-[#FF60A6] sw-animate-pulse"></span>
          <span>{{ section.settings.badge_text }}</span>
        </span>
      </div>

      {% if section.settings.social_instagram != blank
        or section.settings.social_youtube != blank
        or section.settings.social_facebook != blank
      %}
        <div class="sw-flex sw-items-center sw-gap-2">
          {% if section.settings.social_facebook != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_facebook }}"
              target="_blank"
              rel="nofollow noopener"
              aria-label="Facebook"
              title="Facebook"
            >
             <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M13.135 6H15V3h-1.865a4.147 4.147 0 0 0-4.142 4.142V9H7v3h2v9.938h3V12h2.021l.592-3H12V6.591A.6.6 0 0 1 12.592 6h.543Z" clip-rule="evenodd"/>
            </svg>

            </a>
          {% endif %}
          {% if section.settings.social_instagram != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_instagram }}"
              target="_blank"
              rel="nofollow noopener"
              aria-label="Instagram"
              title="Instagram"
            >
             <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
              <path fill="currentColor" fill-rule="evenodd" d="M3 8a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v8a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5V8Zm5-3a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8a3 3 0 0 0-3-3H8Zm7.597 2.214a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2h-.01a1 1 0 0 1-1-1ZM12 9a3 3 0 1 0 0 6 3 3 0 0 0 0-6Zm-5 3a5 5 0 1 1 10 0 5 5 0 0 1-10 0Z" clip-rule="evenodd"/>
            </svg>

            </a>
          {% endif %}

          {% if section.settings.social_youtube != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_youtube }}"
              target="_blank"
              rel="nofollow noopener"
              aria-label="YouTube"
              title="YouTube"
            >
             <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M21.7 8.037a4.26 4.26 0 0 0-.789-1.964 2.84 2.84 0 0 0-1.984-.839c-2.767-.2-6.926-.2-6.926-.2s-4.157 0-6.928.2a2.836 2.836 0 0 0-1.983.839 4.225 4.225 0 0 0-.79 1.965 30.146 30.146 0 0 0-.2 3.206v1.5a30.12 30.12 0 0 0 .2 3.206c.094.712.364 1.39.784 1.972.604.536 1.38.837 2.187.848 1.583.151 6.731.2 6.731.2s4.161 0 6.928-.2a2.844 2.844 0 0 0 1.985-.84 4.27 4.27 0 0 0 .787-1.965 30.12 30.12 0 0 0 .2-3.206v-1.516a30.672 30.672 0 0 0-.202-3.206Zm-11.692 6.554v-5.62l5.4 2.819-5.4 2.801Z" clip-rule="evenodd"/>
            </svg>

            </a>
          {% endif %}

          
        </div>
      {% endif %}
    </div>

    <div class="sw-grid sw-grid-cols-1 lg:sw-grid-cols-2 sw-gap-10 sw-items-center">
      <!-- LEFT -->
      <div class="sw-space-y-6">
        <div class="sw-inline-flex sw-items-center sw-gap-2 sw-rounded-full sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-px-4 sw-py-2 sw-text-xs sm:sw-text-sm">
          <span class="sw-font-semibold sw-text-[#724430]">NEW</span>
          <span class="sw-text-black/70">{{ section.settings.ribbon_text }}</span>
        </div>

        <h1 class="sw-text-4xl sm:sw-text-5xl sw-leading-tight sw-font-semibold sw-tracking-tight sw-font-heading">
          {{ section.settings.heading }}
          <span class="sw-text-[#FF60A6]">{{ section.settings.heading_highlight }}</span>
        </h1>

        <p class="sw-text-base sm:sw-text-lg sw-text-black/70 sw-max-w-xl sw-font-body">
          {{ section.settings.subheading }}
        </p>

        <!-- Chips -->
        <div class="sw-flex sw-flex-wrap sw-gap-2">
          {% for block in section.blocks %}
            {% if block.type == 'chip' %}
              <span class="sw-rounded-full sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-px-4 sw-py-2 sw-text-sm sw-text-black/70 sw-font-body">
                {{ block.settings.text }}
              </span>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Product image card (replaces old promise card) -->
        {% if section.settings.product_image != blank %}
          <div class="sw-rounded-[2rem] sw-border sw-border-black/10 sw-bg-white/65 sw-backdrop-blur sw-shadow-[0_20px_70px_-35px_rgba(0,0,0,0.25)] sw-overflow-hidden">
            <div class="sw-relative sw-aspect-[16/10] sm:sw-aspect-[16/9] sw-bg-white">
              <img
                src="{{ section.settings.product_image | image_url: width: 1400 }}"
                alt="{{ section.settings.product_image_alt | escape }}"
                loading="lazy"
                class="sw-absolute sw-inset-0 sw-h-full sw-w-full sw-object-cover"
              >
              <div class="sw-absolute sw-inset-0 sw-bg-gradient-to-t sw-from-black/35 sw-via-black/0 sw-to-black/0"></div>

              {% if section.settings.product_image_badge != blank %}
                <div class="sw-absolute sw-left-4 sw-top-4 sw-inline-flex sw-items-center sw-gap-2 sw-rounded-full sw-bg-white/75 sw-backdrop-blur sw-border sw-border-black/10 sw-px-3 sw-py-1.5 sw-text-xs sw-font-semibold sw-text-[#724430]">
                  <span class="sw-inline-block sw-h-2 sw-w-2 sw-rounded-full sw-bg-[#FF60A6]"></span>
                  {{ section.settings.product_image_badge }}
                </div>
              {% endif %}

              {% if section.settings.product_image_caption != blank %}
                <div class="sw-absolute sw-left-4 sw-right-4 sw-bottom-4 sw-rounded-2xl sw-bg-white/70 sw-backdrop-blur sw-border sw-border-black/10 sw-p-4">
                  <div class="sw-text-sm sw-font-semibold sw-text-[#111111] sw-font-heading">
                    {{ section.settings.product_image_caption }}
                  </div>
                  {% if section.settings.product_image_caption_sub != blank %}
                    <div class="sw-mt-1 sw-text-xs sw-text-black/70 sw-font-body">
                      {{ section.settings.product_image_caption_sub }}
                    </div>
                  {% endif %}
                </div>
              {% endif %}
            </div>
          </div>
        {% else %}
          <div class="sw-rounded-3xl sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-p-5 sm:sw-p-6">
            <div class="sw-text-sm sw-text-black/70 sw-font-body">
              Add a product image in section settings → “Product image”.
            </div>
          </div>
        {% endif %}
      </div>

      <!-- RIGHT -->
      <div class="sw-w-full">
        <div class="sw-rounded-[2rem] sw-border sw-border-black/10 sw-bg-white/75 sw-backdrop-blur sw-shadow-[0_30px_120px_-50px_rgba(0,0,0,0.35)] sw-p-6 sm:sw-p-8">
          <!-- heading -->
          <div class="sw-text-center sw-mb-6">
            <div class="sw-inline-flex sw-items-center sw-justify-center sw-gap-2 sw-rounded-full sw-bg-[#FF60A6]/15 sw-text-[#724430] sw-border sw-border-black/10 sw-px-4 sw-py-2 sw-text-xs sw-font-semibold sw-font-body">
              {{ section.settings.form_kicker }}
            </div>
            <h2 class="sw-mt-3 sw-text-2xl sm:sw-text-3xl sw-font-semibold sw-font-heading">
              {{ section.settings.form_heading }}
            </h2>
            <p class="sw-mt-2 sw-text-sm sw-text-black/70 sw-font-body">
              {{ section.settings.form_subheading }}
            </p>
          </div>

          {% if section.settings.enable_countdown %}
            <div class="sw-rounded-3xl sw-border sw-border-black/10 sw-bg-white/60 sw-backdrop-blur sw-p-4 sw-mb-6">
              <div class="sw-text-xs sw-text-black/60 sw-text-center sw-mb-2 sw-font-body">
                {{ section.settings.countdown_label }}
              </div>
              <div id="swCountdown" class="sw-grid sw-grid-cols-4 sw-gap-2 sw-text-center">
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-d>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Days</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-h>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Hours</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-m>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Min</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-s>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Sec</div>
                </div>
              </div>
            </div>
          {% endif %}

          <!-- Password form -->
          {% form 'storefront_password' %}
            {% if form.errors %}
              <div class="sw-rounded-2xl sw-border sw-border-red-500/30 sw-bg-red-500/10 sw-p-3 sw-text-sm sw-text-red-700 sw-font-body sw-mb-4">
                {{ form.errors | default_errors }}
              </div>
            {% endif %}

            <div class="sw-space-y-3">
              <label class="sw-text-sm sw-font-semibold sw-text-black/80 sw-font-body" for="Password">
                {{ section.settings.password_label }}
              </label>

              <div class="sw-relative">
                <input
                  id="Password"
                  type="password"
                  name="password"
                  autocomplete="current-password"
                  placeholder="{{ section.settings.password_placeholder }}"
                  class="sw-w-full sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white sw-px-4 sw-py-3 sw-text-[#111111] sw-placeholder:sw-text-black/40 focus:sw-outline-none focus:sw-ring-2 focus:sw-ring-[#FF60A6]/40"
                >
                <div class="sw-absolute sw-inset-y-0 sw-right-3 sw-flex sw-items-center sw-pointer-events-none">
                  <span class="sw-inline-block sw-h-2.5 sw-w-2.5 sw-rounded-full sw-bg-[#FF60A6]"></span>
                </div>
              </div>

              <button
                type="submit"
                class="
                  sw-w-full sw-rounded-2xl sw-py-3 sw-font-semibold sw-font-body sw-text-white sw-bg-[#FF60A6] hover:sw-opacity-95 sw-transition
                  sw-shadow-[0_12px_30px_-16px_rgba(255,96,166,0.7)]
                "
              >
                {{ section.settings.button_text }}
              </button>

             
            </div>
          {% endform %}

          <!-- Newsletter -->
          {% if section.settings.enable_newsletter %}
            <div class="sw-mt-6 sw-pt-6 sw-border-t sw-border-black/10">
              <div class="sw-flex sw-items-center sw-justify-between sw-gap-3 sw-mb-3">
                <div>
                  <div class="sw-text-[16px] sw-font-semibold sw-text-[#111111] sw-font-heading">
                    {{ section.settings.newsletter_heading }}
                  </div>
                  <div class="sw-text-xs sw-text-black/60 sw-font-body">
                    {{ section.settings.newsletter_subheading }}
                  </div>
                </div>
              </div>

              {% form 'customer' %}
                <input type="hidden" name="contact[tags]" value="password-page">

                <div class="sw-flex sw-flex-col sm:sw-flex-row sw-gap-3">
                  <input
                    type="email"
                    name="contact[email]"
                    required
                    placeholder="{{ section.settings.newsletter_placeholder }}"
                    class="sw-w-full sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white sw-px-4 sw-py-3 sw-text-[#111111] sw-placeholder:sw-text-black/40 focus:sw-outline-none focus:sw-ring-2 focus:sw-ring-[#724430]/25 sw-font-body"
                  >
                  <button
                    type="submit"
                    class="sw-rounded-2xl sw-px-5 sw-py-3 sw-font-semibold sw-font-body sw-text-[#724430] sw-bg-white sw-border sw-border-black/10 hover:sw-bg-[#724430]/5 sw-transition sw-whitespace-nowrap"
                  >
                    {{ section.settings.newsletter_button_text }}
                  </button>
                </div>

                {% if form.posted_successfully? %}
                  <div class="sw-mt-3 sw-rounded-2xl sw-border sw-border-emerald-500/30 sw-bg-emerald-500/10 sw-p-3 sw-text-sm sw-text-emerald-700 sw-text-center sw-font-body">
                    {{ section.settings.newsletter_success }}
                  </div>
                {% endif %}
              {% endform %}
            </div>
          {% endif %}
        </div>

        <div class="sw-text-center sw-text-xs sw-text-black/50 sw-mt-5 sw-font-body">
          © {{ 'now' | date: '%Y' }} {{ shop.name }}
        </div>
      </div>
    </div>
  </div>
</section>

{% if section.settings.enable_countdown %}
  <script>
    (function () {
      var target = '{{ section.settings.countdown_target }}';
      if (!target) return;

      var targetDate = new Date(target);
      if (isNaN(targetDate.getTime())) targetDate = new Date(target + 'T00:00:00');
      if (isNaN(targetDate.getTime())) return;

      var root = document.getElementById('swCountdown');
      if (!root) return;

      var dEl = root.querySelector('[data-d]');
      var hEl = root.querySelector('[data-h]');
      var mEl = root.querySelector('[data-m]');
      var sEl = root.querySelector('[data-s]');

      function pad(n) {
        return String(n).padStart(2, '0');
      }

      function tick() {
        var now = Date.now();
        var diff = targetDate.getTime() - now;
        if (diff < 0) diff = 0;

        var d = Math.floor(diff / (1000 * 60 * 60 * 24));
        var h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        var m = Math.floor((diff / (1000 * 60)) % 60);
        var s = Math.floor((diff / 1000) % 60);

        if (dEl) dEl.textContent = pad(d);
        if (hEl) hEl.textContent = pad(h);
        if (mEl) mEl.textContent = pad(m);
        if (sEl) sEl.textContent = pad(s);
      }

      tick();
      setInterval(tick, 1000);
    })();
  </script>
{% endif %}

{% schema %}
{
  "name": "password-content",
  "settings": [
    { "type": "image_picker", "id": "logo", "label": "Logo" },

    { "type": "text", "id": "badge_text", "label": "Badge text", "default": "Password protected" },

    {
      "type": "text",
      "id": "ribbon_text",
      "label": "Small ribbon text",
      "default": "Luxury beauty essentials — dropping soon"
    },

    { "type": "text", "id": "heading", "label": "Heading", "default": "Your glow-up starts" },
    { "type": "text", "id": "heading_highlight", "label": "Heading highlight", "default": "here." },

    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "We’re crafting a premium cosmetics experience. Early access will open soon — join the list or enter the password if you have it."
    },

    { "type": "header", "content": "Left Image Card" },
    { "type": "image_picker", "id": "product_image", "label": "Product image (Left card)" },
    { "type": "text", "id": "product_image_alt", "label": "Product image alt text", "default": "Featured product" },
    { "type": "text", "id": "product_image_badge", "label": "Product image badge", "default": "Featured" },
    { "type": "text", "id": "product_image_caption", "label": "Product image caption", "default": "Hero product — dropping soon" },
    { "type": "text", "id": "product_image_caption_sub", "label": "Product image caption subtext", "default": "Limited stock • Early access first" },

    { "type": "text", "id": "form_kicker", "label": "Form kicker", "default": "Early Access" },
    { "type": "text", "id": "form_heading", "label": "Form heading", "default": "Enter store password" },
    {
      "type": "text",
      "id": "form_subheading",
      "label": "Form subheading",
      "default": "If you have access, unlock the store now."
    },

    { "type": "text", "id": "password_label", "label": "Password label", "default": "Password" },
    { "type": "text", "id": "password_placeholder", "label": "Password placeholder", "default": "Type password…" },
    { "type": "text", "id": "button_text", "label": "Button text", "default": "Unlock Store" },

    { "type": "checkbox", "id": "enable_countdown", "label": "Enable countdown", "default": true },
    { "type": "text", "id": "countdown_label", "label": "Countdown label", "default": "Next drop goes live in" },
    {
      "type": "text",
      "id": "countdown_target",
      "label": "Countdown target (YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS)",
      "default": "2026-01-01T10:00:00"
    },

    { "type": "checkbox", "id": "enable_newsletter", "label": "Enable newsletter", "default": true },
    { "type": "text", "id": "newsletter_heading", "label": "Newsletter heading", "default": "Get notified first" },
    {
      "type": "text",
      "id": "newsletter_subheading",
      "label": "Newsletter subheading",
      "default": "Drops, offers & early access — straight to your inbox."
    },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Newsletter placeholder",
      "default": "Enter your email"
    },
    { "type": "text", "id": "newsletter_button_text", "label": "Newsletter button", "default": "Notify me" },
    {
      "type": "text",
      "id": "newsletter_success",
      "label": "Newsletter success text",
      "default": "Done! You’re on the VIP list."
    },

    { "type": "text", "id": "social_instagram", "label": "Instagram URL" },
    { "type": "text", "id": "social_youtube", "label": "YouTube URL" },
    { "type": "text", "id": "social_facebook", "label": "Facebook URL" }
  ],
  "blocks": [
    {
      "type": "chip",
      "name": "Feature chip",
      "settings": [{ "type": "text", "id": "text", "label": "Chip text", "default": "Cruelty-free" }]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "password-content",
      "blocks": [
        { "type": "chip", "settings": { "text": "Cruelty-free" } },
        { "type": "chip", "settings": { "text": "Skin-friendly" } },
        { "type": "chip", "settings": { "text": "Made for everyday glam" } }
      ]
    }
  ]
}
{% endschema %}
