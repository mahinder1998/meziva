function v(){return v=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i])}return a},v.apply(this,arguments)}var w={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(a){},onComplete:function(a){},preStringTyped:function(a,e){},onStringTyped:function(a,e){},onLastStringBackspaced:function(a){},onTypingPaused:function(a,e){},onTypingResumed:function(a,e){},onReset:function(a){},onStop:function(a,e){},onStart:function(a,e){},onDestroy:function(a){}},L=new(function(){function a(){}var e=a.prototype;return e.load=function(t,i,s){if(t.el=typeof s=="string"?document.querySelector(s):s,t.options=v({},w,i),t.isInput=t.el.tagName.toLowerCase()==="input",t.attr=t.options.attr,t.bindInputFocusEvents=t.options.bindInputFocusEvents,t.showCursor=!t.isInput&&t.options.showCursor,t.cursorChar=t.options.cursorChar,t.cursorBlinking=!0,t.elContent=t.attr?t.el.getAttribute(t.attr):t.el.textContent,t.contentType=t.options.contentType,t.typeSpeed=t.options.typeSpeed,t.startDelay=t.options.startDelay,t.backSpeed=t.options.backSpeed,t.smartBackspace=t.options.smartBackspace,t.backDelay=t.options.backDelay,t.fadeOut=t.options.fadeOut,t.fadeOutClass=t.options.fadeOutClass,t.fadeOutDelay=t.options.fadeOutDelay,t.isPaused=!1,t.strings=t.options.strings.map(function(l){return l.trim()}),t.stringsElement=typeof t.options.stringsElement=="string"?document.querySelector(t.options.stringsElement):t.options.stringsElement,t.stringsElement){t.strings=[],t.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var n=Array.prototype.slice.apply(t.stringsElement.children),o=n.length;if(o)for(var c=0;c<o;c+=1)t.strings.push(n[c].innerHTML.trim())}for(var h in t.strPos=0,t.currentElContent=this.getCurrentElContent(t),t.currentElContent&&t.currentElContent.length>0&&(t.strPos=t.currentElContent.length-1,t.strings.unshift(t.currentElContent)),t.sequence=[],t.strings)t.sequence[h]=h;t.arrayPos=0,t.stopNum=0,t.loop=t.options.loop,t.loopCount=t.options.loopCount,t.curLoop=0,t.shuffle=t.options.shuffle,t.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},t.typingComplete=!1,t.autoInsertCss=t.options.autoInsertCss,t.autoInsertCss&&(this.appendCursorAnimationCss(t),this.appendFadeOutAnimationCss(t))},e.getCurrentElContent=function(t){return t.attr?t.el.getAttribute(t.attr):t.isInput?t.el.value:t.contentType==="html"?t.el.innerHTML:t.el.textContent},e.appendCursorAnimationCss=function(t){var i="data-typed-js-cursor-css";if(t.showCursor&&!document.querySelector("["+i+"]")){var s=document.createElement("style");s.setAttribute(i,"true"),s.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(s)}},e.appendFadeOutAnimationCss=function(t){var i="data-typed-fadeout-js-css";if(t.fadeOut&&!document.querySelector("["+i+"]")){var s=document.createElement("style");s.setAttribute(i,"true"),s.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(s)}},a}()),S=new(function(){function a(){}var e=a.prototype;return e.typeHtmlChars=function(t,i,s){if(s.contentType!=="html")return i;var n=t.substring(i).charAt(0);if(n==="<"||n==="&"){var o;for(o=n==="<"?">":";";t.substring(i+1).charAt(0)!==o&&!(1+ ++i>t.length););i++}return i},e.backSpaceHtmlChars=function(t,i,s){if(s.contentType!=="html")return i;var n=t.substring(i).charAt(0);if(n===">"||n===";"){var o;for(o=n===">"?"<":"&";t.substring(i-1).charAt(0)!==o&&!(--i<0););i--}return i},a}()),C=function(){function a(t,i){L.load(this,i,t),this.begin()}var e=a.prototype;return e.toggle=function(){this.pause.status?this.start():this.stop()},e.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},e.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},e.destroy=function(){this.reset(!1),this.options.onDestroy(this)},e.reset=function(t){t===void 0&&(t=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,t&&(this.insertCursor(),this.options.onReset(this),this.begin())},e.begin=function(){var t=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){t.strPos===0?t.typewrite(t.strings[t.sequence[t.arrayPos]],t.strPos):t.backspace(t.strings[t.sequence[t.arrayPos]],t.strPos)},this.startDelay)},e.typewrite=function(t,i){var s=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var n=this.humanizer(this.typeSpeed),o=1;this.pause.status!==!0?this.timeout=setTimeout(function(){i=S.typeHtmlChars(t,i,s);var c=0,h=t.substring(i);if(h.charAt(0)==="^"&&/^\^\d+/.test(h)){var l=1;l+=(h=/\d+/.exec(h)[0]).length,c=parseInt(h),s.temporaryPause=!0,s.options.onTypingPaused(s.arrayPos,s),t=t.substring(0,i)+t.substring(i+l),s.toggleBlinking(!0)}if(h.charAt(0)==="`"){for(;t.substring(i+o).charAt(0)!=="`"&&(o++,!(i+o>t.length)););var r=t.substring(0,i),d=t.substring(r.length+1,i+o),p=t.substring(i+o+1);t=r+d+p,o--}s.timeout=setTimeout(function(){s.toggleBlinking(!1),i>=t.length?s.doneTyping(t,i):s.keepTyping(t,i,o),s.temporaryPause&&(s.temporaryPause=!1,s.options.onTypingResumed(s.arrayPos,s))},c)},n):this.setPauseStatus(t,i,!0)},e.keepTyping=function(t,i,s){i===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var n=t.substring(0,i+=s);this.replaceText(n),this.typewrite(t,i)},e.doneTyping=function(t,i){var s=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){s.backspace(t,i)},this.backDelay))},e.backspace=function(t,i){var s=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var n=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){i=S.backSpaceHtmlChars(t,i,s);var o=t.substring(0,i);if(s.replaceText(o),s.smartBackspace){var c=s.strings[s.arrayPos+1];s.stopNum=c&&o===c.substring(0,i)?i:0}i>s.stopNum?(i--,s.backspace(t,i)):i<=s.stopNum&&(s.arrayPos++,s.arrayPos===s.strings.length?(s.arrayPos=0,s.options.onLastStringBackspaced(),s.shuffleStringsIfNeeded(),s.begin()):s.typewrite(s.strings[s.sequence[s.arrayPos]],i))},n)}else this.setPauseStatus(t,i,!1)},e.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},e.setPauseStatus=function(t,i,s){this.pause.typewrite=s,this.pause.curString=t,this.pause.curStrPos=i},e.toggleBlinking=function(t){this.cursor&&(this.pause.status||this.cursorBlinking!==t&&(this.cursorBlinking=t,t?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},e.humanizer=function(t){return Math.round(Math.random()*t/2)+t},e.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},e.initFadeOut=function(){var t=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){t.arrayPos++,t.replaceText(""),t.strings.length>t.arrayPos?t.typewrite(t.strings[t.sequence[t.arrayPos]],0):(t.typewrite(t.strings[0],0),t.arrayPos=0)},this.fadeOutDelay)},e.replaceText=function(t){this.attr?this.el.setAttribute(this.attr,t):this.isInput?this.el.value=t:this.contentType==="html"?this.el.innerHTML=t:this.el.textContent=t},e.bindFocusEvents=function(){var t=this;this.isInput&&(this.el.addEventListener("focus",function(i){t.stop()}),this.el.addEventListener("blur",function(i){t.el.value&&t.el.value.length!==0||t.start()}))},e.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},a}();class E extends HTMLElement{constructor(){var e,t,i;super(),this.sticky=this.dataset.sticky=="true",this.enableLandingScroll=this.dataset.landingScroll=="true",this.landingOffset=Number(this.dataset.landingOffset||0),this.navDisplayBtns=this.querySelectorAll('[data-role="nav-display"]'),this.navHideBtns=this.querySelectorAll('[data-role="nav-hide"]'),this.mobileNavigation=this.querySelector('[data-role="mobile-nav"]'),this.headerOverlay=this.querySelector('[data-role="header-overlay"]'),this.headerMainWrapper=this.closest("#shopify-section-header-v2"),this.headerTopBar=this.querySelector('[data-role="header-top-bar"]'),this.announcementBar=document.querySelector("#shopify-section-announcement-bar-v2"),this.mobileSearchWrapper=this.querySelector('[data-role="mobile-search-wrapper"]'),this.lastScroll=0,this.currentDisplay=!0,this.cartOpenBtns=this.querySelectorAll('[data-role="cart-open"]'),this.cartCountEls=this.querySelectorAll('[data-role="cart-count"]'),this.headerWalletIcon=this.querySelector('[data-role="header-cashback-icon"]'),this.cashbackLoginIcon=this.querySelector('[data-role="header-cashback-login"]'),this.mobileLinks=Array.from(((e=this.mobileNavigation)==null?void 0:e.querySelectorAll("a"))||[]),this.desktopLinks=Array.from(this.querySelectorAll('[data-role="parent-nav"]')),this.parentNavs=Array.from(document.querySelectorAll('[data-role="parent-nav"]')),this.cartOpenBtns.forEach(s=>{s.addEventListener("click",n=>{n.stopPropagation(),document.dispatchEvent(new Event("cart:open"))})}),this.parentNavs.forEach(s=>{s.addEventListener("mouseenter",this.displayMegaDrop.bind(this,s,!0)),s.addEventListener("mouseleave",this.displayMegaDrop.bind(this,s,!1))}),["custom:updateCart","cart:updated","ajaxProduct:added"].forEach(s=>{document.addEventListener(s,n=>{var c,h;const o=((h=(c=n==null?void 0:n.detail)==null?void 0:c.cart)==null?void 0:h.item_count)??0;this.cartCountEls.forEach(l=>{l.innerHTML=o,l.style.opacity=o>0?"1":"0"})})}),this.navDisplayBtns.forEach(s=>{s.addEventListener("click",()=>{this.displayMobileNavigation.call(this)})}),this.navHideBtns.forEach(s=>s.addEventListener("click",this.hideMobileNavigation.bind(this))),[...this.mobileLinks,...this.desktopLinks].forEach(s=>s.addEventListener("click",this.handleLinkClick.bind(this))),(t=this.cashbackLoginIcon)==null||t.addEventListener("click",()=>{var s;(s=window.handleKpAndShopifyLogin)==null||s.call(window,"/account")}),(i=this.headerWalletIcon)!=null&&i.querySelector('[data-role="header-cashback-amount"]')&&this.getWalletData(),this.animation=null,this.closing=!1,this.isExpanding=!1,window.innerWidth<768&&(document.addEventListener("scroll",this.handleDocumentScroll.bind(this)),this.announcementBar&&this.headerMainWrapper&&(this.headerMainWrapper.style.top=this.announcementBar.offsetHeight+"px"))}connectedCallback(){var e,t,i,s,n,o;new theme.CartDrawer,this.mobileNavigationClone=(e=this.mobileNavigation)==null?void 0:e.cloneNode(!0),(t=this.mobileNavigation)==null||t.remove(),this.mobileNavigation=this.mobileNavigationClone,(i=this.headerMainWrapper)==null||i.insertAdjacentElement("afterend",this.mobileNavigation),(n=(s=this.mobileNavigation)==null?void 0:s.querySelector('[data-role="nav-hide"]'))==null||n.addEventListener("click",this.hideMobileNavigation.bind(this)),Array.from((o=this.mobileNavigation)==null?void 0:o.querySelectorAll("a")).forEach(c=>c.addEventListener("click",this.handleLinkClick.bind(this)))}getAnchorFromEvent(e){var t,i;return(i=(t=e.target)==null?void 0:t.closest)==null?void 0:i.call(t,"a")}getScrollOffset(){const e=document.querySelector("#shopify-section-header-v2")||this.headerMainWrapper,t=e?e.getBoundingClientRect().height:0,i=document.querySelector("#shopify-section-announcement-bar-v2"),s=i?i.getBoundingClientRect().height:0,n=Number(this.landingOffset||0);return Math.ceil(t+s+n)}closeMobileMenuStates(){var e,t;(e=this.headerOverlay)==null||e.classList.remove("active"),(t=this.mobileNavigation)==null||t.classList.remove("active"),document.body.classList.remove("menu-open"),document.body.style.overflow=""}findLandingTargetByHash(e){if(!e)return null;let t=document.getElementById(e);if(t||(t=document.getElementById(`#${e}`),t))return t;try{const i=s=>window.CSS&&CSS.escape?CSS.escape(s):s.replace(/"/g,'\\"');return document.querySelector(`[id="${i(e)}"]`)||document.querySelector(`[id="${i(`#${e}`)}"]`)}catch{return null}}displayMegaDrop(e,t){const i=e.querySelector('[data-role="mega-drop"]');i&&(t?this.displayDesktopDrop(i):this.hideDesktopDrop(i))}displayDesktopDrop(e){e.style.display="block",e.animate({opacity:[0,1]},{duration:400,easing:"ease-out"})}hideDesktopDrop(e){const t=e.animate({opacity:[1,0]},{duration:400,easing:"ease-out"});t.onfinish=()=>e.style.display=""}displayMobileNavigation(){var e,t;(e=this.headerOverlay)==null||e.classList.add("active"),(t=this.mobileNavigation)==null||t.classList.add("active"),document.body.style.overflow="hidden",this.expand()}hideMobileNavigation(){var e;(e=this.headerOverlay)==null||e.classList.remove("active"),document.body.style.overflow="",this.shrink(),document.body.classList.remove("menu-open")}expand(){var i,s;(i=this.mobileNavigation)==null||i.classList.add("updating"),this.isExpanding=!0,this.mobileNavigation.style.overflow="hidden";const e="0px",t=`${this.mobileNavigation.offsetWidth}px`;this.animation&&this.animation.cancel(),this.animation=(s=this.mobileNavigation)==null?void 0:s.animate({width:[e,t]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(),this.animation.oncancel=()=>this.onAnimationFinish()}shrink(){var i,s;(i=this.mobileNavigation)==null||i.classList.add("updating"),this.closing=!0,this.mobileNavigation.style.overflow="hidden";const e=`${this.mobileNavigation.offsetWidth}px`,t="0px";this.animation&&this.animation.cancel(),this.animation=(s=this.mobileNavigation)==null?void 0:s.animate({width:[e,t]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.onAnimationFinish(!0),this.animation.oncancel=()=>this.onAnimationFinish(!0)}onAnimationFinish(e=!1){var t,i;e&&((t=this.mobileNavigation)==null||t.classList.remove("active")),this.animation=null,this.closing=!1,this.isExpanding=!1,this.mobileNavigation.style.width="",this.mobileNavigation.style.overflow="",(i=this.mobileNavigation)==null||i.classList.remove("updating")}handleLinkClick(e){const t=this.getAnchorFromEvent(e),i=(t==null?void 0:t.getAttribute("href"))||"";if(!(!i||i.startsWith("javascript:"))&&!(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)){if(this.enableLandingScroll&&i.startsWith("#")&&i.length>1){const s=i.slice(1),n=this.findLandingTargetByHash(s);if(n){e.preventDefault(),this.closeMobileMenuStates();const o=this.getScrollOffset();let c=window.scrollY+n.getBoundingClientRect().top-o;c=Math.max(0,c),window.history.replaceState(null,"",i),window.scrollTo({top:c,behavior:"smooth"});return}}e.preventDefault(),this.closeMobileMenuStates();try{const s=new URL(i,window.location.origin);s.origin===window.location.origin?window.location.href=s.href:window.open(s.href,"_self")}catch{window.location.pathname=i}}}async getCurrentCartData(){try{let e=sessionStorage.getItem("CARTID");return e||(e=(await fetch("/cart.js").then(i=>i.json())).token,sessionStorage.setItem("CARTID",e)),{cart:{id:e}}}catch(e){console.log("Failed to get cart",e)}}async getGASessionId(){return new Promise(e=>{if(typeof gtag!="function")return e(null);gtag("get","G-N71XHS094H","session_id",t=>e(t)),setTimeout(()=>e(null),3e3)})}async getWalletData(){var e,t,i,s;try{(e=this.headerWalletIcon)==null||e.classList.add("activating");let n=null;try{n=await this.getGASessionId()}catch(r){console.log("Failed to get ga session id",r==null?void 0:r.message)}const c=await(await fetch("/apps/latest-proxy/cashback/balance",{headers:new Headers({"x-gasession-id":n})})).json();if(!c.ok)throw new Error("Balance fetch failed");const h=(t=this.headerWalletIcon)==null?void 0:t.querySelector('[data-role="header-cashback-amount"]');h&&(h.innerHTML=this.moneyFormatter(c.balance));const l=(i=this.headerWalletIcon)==null?void 0:i.closest('[data-role="header-cashback-wrapper"]');l&&(c.balance==0?l.classList.remove("customer"):l.classList.add("customer"))}catch(n){console.warn("Wallet fetch error",n)}finally{(s=this.headerWalletIcon)==null||s.classList.remove("activating")}}async eventHandler(e,t){try{let i=await this.getGASessionId.call(this);await fetch("/apps/latest-proxy/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventName:e,session_id:i,params:t})})}catch(i){console.log("Failed to add event reason -->"+i.message)}}moneyFormatter(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}hideHeaderTopBar(){var i;if(!this.headerTopBar||!this.announcementBar||!this.headerMainWrapper||!this.currentDisplay)return;this.currentDisplay=!1,this.headerTopBarAnimation&&this.headerTopBarAnimation.cancel();let e=this.headerTopBar.offsetHeight+this.announcementBar.offsetHeight-12;this.headerTopBarAnimation=this.headerMainWrapper.animate({transform:["translateY(0px)",`translateY(-${e}px)`]},{duration:150,easing:"ease-in",fill:"forwards"}),this.announcementBarAnimation&&this.announcementBarAnimation.cancel();let t=this.announcementBar.offsetHeight;this.announcementBarAnimation=(i=this.announcementBar)==null?void 0:i.animate({transform:["translateY(0px)",`translateY(-${t}px)`]},{easing:"ease-in",duration:150,fill:"forwards"}),this.announcementBarAnimation.onfinish=()=>{var s,n;(s=this.mobileSearchWrapper)==null||s.classList.add("is-hidden"),(n=this.mobileSearchWrapper)==null||n.classList.remove("is-visible")}}displayHeaderTopBar(){var i;if(!this.headerTopBar||!this.announcementBar||!this.headerMainWrapper||this.currentDisplay)return;this.currentDisplay=!0,this.headerTopBarAnimation&&this.headerTopBarAnimation.cancel();let e=this.headerTopBar.offsetHeight+this.announcementBar.offsetHeight-12;this.headerTopBarAnimation=this.headerMainWrapper.animate({transform:[`translateY(-${e}px)`,"translateY(0px)"]},{duration:150,easing:"ease-in",fill:"forwards"}),this.announcementBarAnimation&&this.announcementBarAnimation.cancel();let t=this.announcementBar.offsetHeight;this.announcementBarAnimation=(i=this.announcementBar)==null?void 0:i.animate({transform:[`translateY(-${t}px)`,"translateY(0px)"]},{easing:"ease-in",duration:150,fill:"forwards"}),this.announcementBarAnimation.onfinish=()=>{var s,n;(s=this.mobileSearchWrapper)==null||s.classList.remove("is-hidden"),(n=this.mobileSearchWrapper)==null||n.classList.add("is-visible")}}handleDocumentScroll(){let e=50;const t=window.pageYOffset,i=t-this.lastScroll;Math.abs(i)>e&&(i>0?this.hideHeaderTopBar():this.displayHeaderTopBar(),this.lastScroll=t)}}customElements.define("sticky-header",E);class T extends HTMLElement{constructor(){var e;super(),this.triggerButton=this.querySelector('[data-role="trigger"]'),this.content=this.querySelector('[data-role="content"]'),this.animation=null,(e=this.triggerButton)==null||e.addEventListener("click",()=>{this.classList.contains("active")?this.shrink():this.expand()})}expand(){this.content.style.maxHeight="10000px",this.classList.add("active");const e="0px",t=`${this.content.offsetHeight}px`;this.animation&&this.animation.cancel(),this.animation=this.content.animate({height:[e,t]},{duration:400,easing:"ease-out"})}shrink(){this.classList.remove("active");const e=`${this.content.offsetHeight}px`,t="0px";this.animation&&this.animation.cancel(),this.animation=this.content.animate({height:[e,t]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>this.content.style.maxHeight=""}}customElements.define("toggle-expand",T);class B extends HTMLElement{constructor(){var e,t,i,s,n,o,c,h,l;super(),this.searchInput=this.querySelector('[data-role="search-input"]'),this.searchSection=document.querySelector("template#predective-search"),this.searchCloseBtn=this.querySelector('[data-role="search-close"]'),this.searchBtn=this.querySelector('[data-role="search]'),this.searchSectionId=(t=(e=this.searchSection)==null?void 0:e.dataset)==null?void 0:t.id,this.searchIcon=this.querySelector('[data-role="search-icon"]'),this.searchContainer=document.querySelector('[data-id="search-container"]'),this.display=!1,this.showing=!1,this.closing=!1,this.animation=null,this.debounceOnChange=this.debounce(()=>{this.handleInput()},800),document.addEventListener("click",r=>{r.target.classList.contains("add-to-cart")||r.target.closest(".add-to-cart")}),(i=this.searchInput)==null||i.addEventListener("focus",()=>{this.showing||(this.searchInput.classList.add("active"),this.displayPredectiveSearch())}),(s=this.searchIcon)==null||s.addEventListener("focus",()=>{this.showing||(this.searchInput.classList.add("active"),this.displayPredectiveSearch())}),(n=this.searchInput)==null||n.addEventListener("focusout",r=>{var d,p;(d=r.relatedTarget)!=null&&d.closest("predective-search")||r.target==this||(p=r.relatedTarget)!=null&&p.closest('[data-id="search-container"]')||this.display||(this.searchInput.blur(),this.searchInput.value="",this.searchInput.dispatchEvent(new Event("input")),this.searchInput.classList.remove("active"),this.hidePredectiveSearch())}),document.addEventListener("click",r=>{var d;r.target.closest("predective-search")||r.target==this||r.target.closest('[data-id="search-container"]')?this.display=!0:(this.display=!1,(d=this.searchInput)==null||d.blur(),this.searchInput&&(this.searchInput.value="",this.searchInput.dispatchEvent(new Event("input")),this.searchInput.classList.remove("active")),this.hidePredectiveSearch())}),document.addEventListener("click",r=>{r.target.closest('[data-role="search-btn"]')&&this.redirectToSearchPage()}),(o=this.searchCloseBtn)==null||o.addEventListener("click",()=>{var r;(r=this.searchInput)==null||r.blur(),this.searchInput&&(this.searchInput.value="",this.searchInput.dispatchEvent(new Event("input")),this.searchInput.classList.remove("active")),this.hidePredectiveSearch()}),(c=this.searchInput)==null||c.addEventListener("input",this.debounceOnChange),(h=this.searchInput)==null||h.addEventListener("keypress",r=>{r.key==="Enter"&&(r.preventDefault(),this.redirectToSearchPage())}),document.addEventListener("click",r=>{if(r.target.closest('[data-role="keyword"]')||r.target.dataset.role=="keyword"){const d=r.target.closest('[data-role="keyword"]')||r.target;this.searchInput&&(this.searchInput.value=d.innerHTML,this.searchInput.dispatchEvent(new Event("input")))}}),window.addEventListener("resize",this.setModalPositionForDesktop.bind(this)),(l=this.searchContainer)==null||l.addEventListener("click",r=>{if(r.target.closest("product-card")&&r.target.getAttribute("href")){r.preventDefault();let d=r.target.getAttribute("href");window.location=d}})}connectedCallback(){this.getSectionMarkup(),this.initTypingEffect(),this.setModalPositionForDesktop()}initTypingEffect(){var t;const e=((t=this.dataset.inputs)==null?void 0:t.split(","))||[];e.length>0&&this.searchInput&&(this.typed=new C(this.searchInput,{strings:e,typeSpeed:50,attr:"placeholder",loop:!0,fadeOutDelay:400,backDelay:1e3,showCursor:!0,cursorChar:"|"}),this.searchInput.addEventListener("focus",()=>{var i;return(i=this.typed)==null?void 0:i.start()}),this.searchInput.addEventListener("focusout",()=>{var i;return(i=this.typed)==null?void 0:i.start()}))}redirectToSearchPage(){var t;const e=((t=this.searchInput)==null?void 0:t.value)||"";e.trim().length>0&&(window.location=`/search?q=${encodeURIComponent(e)}&type=product`)}getSectionMarkup(){if(!this.searchSection||!this.searchContainer)return;const t=this.searchSection.content.cloneNode(!0).querySelector('[data-role="container"]');t&&(this.searchContainer.innerHTML=t.outerHTML)}async handleInput(){this.searchInput&&(this.searchInput.value.trim().length==0?this.getSectionMarkup():await this.getResultsData())}async getResultsData(){var c,h,l,r;(c=this.searchContainer)==null||c.classList.add("active");const e=window.Shopify.routes.root+`search/suggest?q=${encodeURIComponent(this.searchInput.value)}&resources[type]=product&resources[options][fields]=title,product_type,variants.title,variants.sku&section_id=${this.searchSectionId}`,i=await(await fetch(e)).text(),o=(l=(h=new DOMParser().parseFromString(i,"text/html").querySelector("template"))==null?void 0:h.content.cloneNode(!0).querySelector('[data-role="container"]'))==null?void 0:l.outerHTML;o&&(this.searchContainer.innerHTML=o),(r=this.searchContainer)==null||r.classList.remove("active")}debounce(e,t){let i;return(...s)=>{clearTimeout(i),i=setTimeout(()=>e.apply(this,s),t)}}setModalPositionForDesktop(){var e;if(this.searchContainer)if(window.innerWidth>1024){if((e=this.checkVisibility)!=null&&e.call(this)){let t=this.offsetLeft+this.offsetWidth;this.searchContainer.style.right=`calc(100vw - ${t}px)`}}else this.searchContainer.style.right=""}displayPredectiveSearch(){this.showing=!0,this.closing=!1,this.searchContainer&&(this.searchContainer.style.display="block",document.body.style.overflow="hidden",this.animation&&this.animation.cancel(),this.animation=this.searchContainer.animate({opacity:[0,1]},{duration:400,easing:"ease-out"}))}hidePredectiveSearch(){this.closing=!0,this.showing=!1,this.searchContainer&&(this.animation&&this.animation.cancel(),this.animation=this.searchContainer.animate({opacity:[1,0]},{duration:400,easing:"ease-out"}),this.animation.onfinish=()=>{this.searchContainer.style.display="",document.body.style.overflow=""})}}customElements.define("predective-search",B);const u=document.querySelector('[data-role="mobile-search-wrapper"]'),f=u==null?void 0:u.querySelector('[for="search-input"]'),g=u==null?void 0:u.querySelector('[data-role="search-close"]'),m=document.querySelector('[data-role="nav-display"]'),y=document.querySelector('[data-role="nav-hide"]'),b=document.body;m==null||m.addEventListener("click",()=>{b.classList.add("menu-open")});y==null||y.addEventListener("click",()=>{b.classList.remove("menu-open"),b.style.overflow=""});function I(){u==null||u.classList.add("expand-search")}function k(){u==null||u.classList.remove("expand-search")}f==null||f.addEventListener("click",function(a){a.stopPropagation(),I()});g==null||g.addEventListener("click",function(a){a.stopPropagation(),k()});document.addEventListener("click",function(a){u!=null&&u.classList.contains("expand-search")&&!u.contains(a.target)&&k()});document.addEventListener("click",a=>{if(a.target.dataset.role=="circular-logo-link"||a.target.closest('[data-role="circular-logo-link"]')){a.preventDefault();let t=(a.target.dataset.role=="circular-logo-link"?a.target:a.target.closest('[data-role="circular-logo-link"]')).getAttribute("href");t&&(window.location.href=t)}});
