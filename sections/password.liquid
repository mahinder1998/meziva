{% comment %}
   Password / Coming Soon Page (Cosmetics)
  - Tailwind class prefix: sw-
  - Colors:
    Primary: #FF60A6
    Accent : #724430
    Text   : #111111
  - Fonts:
    Heading: Poppins
    Body   : Open Sans
{% endcomment %}

<section class="sw-min-h-screen sw-w-full sw-relative sw-overflow-hidden sw-bg-[#FFF6FA] sw-text-[#111111]">
  <!-- Decorative blobs -->
  <div
    class="sw-absolute sw--top-28 sw--left-28 sw-h-[26rem] sw-w-[26rem] sw-rounded-full sw-bg-[#FF60A6]/25 sw-blur-3xl"
  ></div>
  <div
    class="sw-absolute sw-top-20 sw--right-28 sw-h-[28rem] sw-w-[28rem] sw-rounded-full sw-bg-[#724430]/15 sw-blur-3xl"
  ></div>
  <div
    class="sw-absolute sw-bottom-0 sw-left-1/2 sw--translate-x-1/2 sw-h-[24rem] sw-w-[48rem] sw-rounded-full sw-bg-black/5 sw-blur-3xl"
  ></div>

  <div class="sw-relative sw-z-10 sw-w-full sw-max-w-6xl sw-mx-auto sw-px-5 sm:sw-px-8 sw-py-10 sm:sw-py-14">
    <!-- Top bar -->
    <div class="sw-flex sw-items-center sw-justify-between sw-gap-4 sw-mb-10">
      <div class="sw-flex sw-items-center sw-gap-3">
        {% if section.settings.logo != blank %}
          <img
            src="{{ section.settings.logo | image_url: width: 220 }}"
            alt="{{ shop.name | escape }}"
            class="sw-h-10 sw-w-auto"
            loading="lazy"
          >
        {% else %}
          <div class="sw-text-lg sw-font-semibold sw-tracking-tight">{{ shop.name }}</div>
        {% endif %}
        <span class="sw-hidden sm:sw-inline-flex sw-items-center sw-gap-2 sw-rounded-full sw-border sw-border-black/10 sw-bg-white/60 sw-backdrop-blur sw-px-3 sw-py-1 sw-text-xs">
          <span class="sw-inline-block sw-h-2 sw-w-2 sw-rounded-full sw-bg-[#FF60A6] sw-animate-pulse"></span>
          <span>{{ section.settings.badge_text }}</span>
        </span>
      </div>

      {% if section.settings.social_instagram != blank
        or section.settings.social_youtube != blank
        or section.settings.social_facebook != blank
      %}
        <div class="sw-flex sw-items-center sw-gap-2">
          {% if section.settings.social_instagram != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_instagram }}"
              target="_blank"
              rel="nofollow noopener"
            >
              <span class="sw-text-xs sw-font-semibold">IG</span>
            </a>
          {% endif %}
          {% if section.settings.social_youtube != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_youtube }}"
              target="_blank"
              rel="nofollow noopener"
            >
              <span class="sw-text-xs sw-font-semibold">YT</span>
            </a>
          {% endif %}
          {% if section.settings.social_facebook != blank %}
            <a
              class="sw-h-10 sw-w-10 sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white/70 hover:sw-bg-white sw-transition sw-flex sw-items-center sw-justify-center"
              href="{{ section.settings.social_facebook }}"
              target="_blank"
              rel="nofollow noopener"
            >
              <span class="sw-text-xs sw-font-semibold">FB</span>
            </a>
          {% endif %}
        </div>
      {% endif %}
    </div>

    <div class="sw-grid sw-grid-cols-1 lg:sw-grid-cols-2 sw-gap-10 sw-items-center">
      <!-- LEFT: Brand story -->
      <div class="sw-space-y-6">
        <div class="sw-inline-flex sw-items-center sw-gap-2 sw-rounded-full sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-px-4 sw-py-2 sw-text-xs sm:sw-text-sm">
          <span class="sw-font-semibold sw-text-[#724430]">NEW</span>
          <span class="sw-text-black/70">{{ section.settings.ribbon_text }}</span>
        </div>

        <h1 class="sw-text-4xl sm:sw-text-5xl sw-leading-tight sw-font-semibold sw-tracking-tight sw-font-heading">
          {{ section.settings.heading }}
          <span class="sw-text-[#FF60A6]">{{ section.settings.heading_highlight }}</span>
        </h1>

        <p class="sw-text-base sm:sw-text-lg sw-text-black/70 sw-max-w-xl sw-font-body">
          {{ section.settings.subheading }}
        </p>

        <!-- Chips -->
        <div class="sw-flex sw-flex-wrap sw-gap-2">
          {% for block in section.blocks %}
            {% if block.type == 'chip' %}
              <span class="sw-rounded-full sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-px-4 sw-py-2 sw-text-sm sw-text-black/70 sw-font-body">
                {{ block.settings.text }}
              </span>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Mini promise card -->
        <div class="sw-rounded-3xl sw-border sw-border-black/10 sw-bg-white/70 sw-backdrop-blur sw-p-5 sm:sw-p-6">
          <div class="sw-flex sw-items-start sw-gap-4">
            <div class="sw-h-11 sw-w-11 sw-rounded-2xl sw-bg-[#FF60A6]/15 sw-flex sw-items-center sw-justify-center sw-border sw-border-black/10">
              <span class="sw-text-sm sw-font-bold sw-text-[#724430]">★</span>
            </div>
            <div class="sw-space-y-1">
              <div class="sw-font-semibold sw-text-[#111111] sw-font-heading">{{ section.settings.promise_title }}</div>
              <div class="sw-text-sm sw-text-black/70 sw-font-body">{{ section.settings.promise_text }}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT: Login + newsletter -->
      <div class="sw-w-full">
        <div class="sw-rounded-[2rem] sw-border sw-border-black/10 sw-bg-white/75 sw-backdrop-blur sw-shadow-[0_20px_80px_-30px_rgba(0,0,0,0.25)] sw-p-6 sm:sw-p-8">
          <!-- heading -->
          <div class="sw-text-center sw-mb-6">
            <div class="sw-inline-flex sw-items-center sw-justify-center sw-gap-2 sw-rounded-full sw-bg-[#FF60A6]/15 sw-text-[#724430] sw-border sw-border-black/10 sw-px-4 sw-py-2 sw-text-xs sw-font-semibold sw-font-body">
              {{ section.settings.form_kicker }}
            </div>
            <h2 class="sw-mt-3 sw-text-2xl sm:sw-text-3xl sw-font-semibold sw-font-heading">
              {{ section.settings.form_heading }}
            </h2>
            <p class="sw-mt-2 sw-text-sm sw-text-black/70 sw-font-body">
              {{ section.settings.form_subheading }}
            </p>
          </div>

          {% if section.settings.enable_countdown %}
            <div class="sw-rounded-3xl sw-border sw-border-black/10 sw-bg-[#FFF6FA] sw-p-4 sw-mb-6">
              <div class="sw-text-xs sw-text-black/60 sw-text-center sw-mb-2 sw-font-body">
                {{ section.settings.countdown_label }}
              </div>
              <div id="swCountdown" class="sw-grid sw-grid-cols-4 sw-gap-2 sw-text-center">
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-d>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Days</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-h>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Hours</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-m>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Min</div>
                </div>
                <div class="sw-rounded-2xl sw-bg-white sw-border sw-border-black/10 sw-py-3">
                  <div class="sw-text-2xl sw-font-semibold sw-font-heading" data-s>00</div>
                  <div class="sw-text-[11px] sw-text-black/60 sw-font-body">Sec</div>
                </div>
              </div>
            </div>
          {% endif %}

          <!-- Password form -->
          {% form 'storefront_password' %}
            {% if form.errors %}
              <div class="sw-rounded-2xl sw-border sw-border-red-500/30 sw-bg-red-500/10 sw-p-3 sw-text-sm sw-text-red-700 sw-font-body sw-mb-4">
                {{ form.errors | default_errors }}
              </div>
            {% endif %}

            <div class="sw-space-y-3">
              <label class="sw-text-sm sw-font-semibold sw-text-black/80 sw-font-body" for="Password">
                {{ section.settings.password_label }}
              </label>

              <div class="sw-relative">
                <input
                  id="Password"
                  type="password"
                  name="password"
                  autocomplete="current-password"
                  placeholder="{{ section.settings.password_placeholder }}"
                  class="sw-w-full sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white sw-px-4 sw-py-3 sw-text-[#111111] sw-placeholder:sw-text-black/40 focus:sw-outline-none focus:sw-ring-2 focus:sw-ring-[#FF60A6]/40"
                >
                <div class="sw-absolute sw-inset-y-0 sw-right-3 sw-flex sw-items-center sw-pointer-events-none">
                  <span class="sw-inline-block sw-h-2.5 sw-w-2.5 sw-rounded-full sw-bg-[#FF60A6]"></span>
                </div>
              </div>

              <button
                type="submit"
                class="
                  sw-w-full sw-rounded-2xl sw-py-3 sw-font-semibold sw-font-body sw-text-white sw-bg-[#FF60A6] hover:sw-opacity-95 sw-transition
                  sw-shadow-[0_12px_30px_-16px_rgba(255,96,166,0.7)]
                "
              >
                {{ section.settings.button_text }}
              </button>

              <div class="sw-text-xs sw-text-black/60 sw-text-center sw-font-body">
                {{ section.settings.small_help }}
              </div>
            </div>
          {% endform %}

          <!-- Newsletter -->
          {% if section.settings.enable_newsletter %}
            <div class="sw-mt-6 sw-pt-6 sw-border-t sw-border-black/10">
              <div class="sw-flex sw-items-center sw-justify-between sw-gap-3 sw-mb-3">
                <div>
                  <div class="sw-text-sm sw-font-semibold sw-text-[#111111] sw-font-heading">
                    {{ section.settings.newsletter_heading }}
                  </div>
                  <div class="sw-text-xs sw-text-black/60 sw-font-body">
                    {{ section.settings.newsletter_subheading }}
                  </div>
                </div>
                <span class="sw-text-xs sw-font-semibold sw-text-[#724430] sw-bg-[#724430]/10 sw-border sw-border-black/10 sw-rounded-full sw-px-3 sw-py-1 sw-font-body">
                  {{ section.settings.newsletter_badge }}
                </span>
              </div>

              {% form 'customer' %}
                <input type="hidden" name="contact[tags]" value="password-page">
                <div class="sw-flex sw-flex-col sm:sw-flex-row sw-gap-3">
                  <input
                    type="email"
                    name="contact[email]"
                    required
                    placeholder="{{ section.settings.newsletter_placeholder }}"
                    class="sw-w-full sw-rounded-2xl sw-border sw-border-black/10 sw-bg-white sw-px-4 sw-py-3 sw-text-[#111111] sw-placeholder:sw-text-black/40 focus:sw-outline-none focus:sw-ring-2 focus:sw-ring-[#724430]/25 sw-font-body"
                  >
                  <button
                    type="submit"
                    class="sw-rounded-2xl sw-px-5 sw-py-3 sw-font-semibold sw-font-body sw-text-[#724430] sw-bg-white sw-border sw-border-black/10 hover:sw-bg-[#724430]/5 sw-transition sw-whitespace-nowrap"
                  >
                    {{ section.settings.newsletter_button_text }}
                  </button>
                </div>

                {% if form.posted_successfully? %}
                  <div class="sw-mt-3 sw-rounded-2xl sw-border sw-border-emerald-500/30 sw-bg-emerald-500/10 sw-p-3 sw-text-sm sw-text-emerald-700 sw-text-center sw-font-body">
                    {{ section.settings.newsletter_success }}
                  </div>
                {% endif %}
              {% endform %}
            </div>
          {% endif %}
        </div>

        <div class="sw-text-center sw-text-xs sw-text-black/50 sw-mt-5 sw-font-body">
          © {{ 'now' | date: '%Y' }}
          {{ shop.name }} • {{ section.settings.bottom_line }}
        </div>
      </div>
    </div>
  </div>
</section>

{% if section.settings.enable_countdown %}
  <script>
    (function () {
      var target = '{{ section.settings.countdown_target }}';
      if (!target) return;

      var targetDate = new Date(target);
      if (isNaN(targetDate.getTime())) targetDate = new Date(target + 'T00:00:00');
      if (isNaN(targetDate.getTime())) return;

      var root = document.getElementById('swCountdown');
      if (!root) return;

      var dEl = root.querySelector('[data-d]');
      var hEl = root.querySelector('[data-h]');
      var mEl = root.querySelector('[data-m]');
      var sEl = root.querySelector('[data-s]');

      function pad(n) {
        return String(n).padStart(2, '0');
      }
      function tick() {
        var now = Date.now();
        var diff = targetDate.getTime() - now;
        if (diff < 0) diff = 0;

        var d = Math.floor(diff / (1000 * 60 * 60 * 24));
        var h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        var m = Math.floor((diff / (1000 * 60)) % 60);
        var s = Math.floor((diff / 1000) % 60);

        if (dEl) dEl.textContent = pad(d);
        if (hEl) hEl.textContent = pad(h);
        if (mEl) mEl.textContent = pad(m);
        if (sEl) sEl.textContent = pad(s);
      }
      tick();
      setInterval(tick, 1000);
    })();
  </script>
{% endif %}

{% schema %}
{
  "name": "Password Page",
  "settings": [
    {
      "type": "checkbox",
      "id": "load_google_fonts",
      "label": "Load Google Fonts (Poppins + Open Sans)",
      "default": true
    },

    { "type": "image_picker", "id": "logo", "label": "Logo" },

    { "type": "text", "id": "badge_text", "label": "Badge text", "default": "Password protected" },
    {
      "type": "text",
      "id": "ribbon_text",
      "label": "Small ribbon text",
      "default": "Luxury beauty essentials — dropping soon"
    },

    { "type": "text", "id": "heading", "label": "Heading", "default": "Your glow-up starts" },
    { "type": "text", "id": "heading_highlight", "label": "Heading highlight", "default": "here." },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "We’re crafting a premium cosmetics experience. Early access will open soon — join the list or enter the password if you have it."
    },

    { "type": "text", "id": "promise_title", "label": "Promise title", "default": "Clean look. Bold confidence." },
    {
      "type": "textarea",
      "id": "promise_text",
      "label": "Promise text",
      "default": "High-impact shades, smooth textures, and a premium feel — designed for everyday glam."
    },

    { "type": "text", "id": "form_kicker", "label": "Form kicker", "default": "Early Access" },
    { "type": "text", "id": "form_heading", "label": "Form heading", "default": "Enter store password" },
    {
      "type": "text",
      "id": "form_subheading",
      "label": "Form subheading",
      "default": "If you have access, unlock the store now."
    },

    { "type": "text", "id": "password_label", "label": "Password label", "default": "Password" },
    { "type": "text", "id": "password_placeholder", "label": "Password placeholder", "default": "Type password…" },
    { "type": "text", "id": "button_text", "label": "Button text", "default": "Unlock Store" },
    { "type": "text", "id": "small_help", "label": "Small help text", "default": "Password is case-sensitive." },

    { "type": "checkbox", "id": "enable_countdown", "label": "Enable countdown", "default": true },
    { "type": "text", "id": "countdown_label", "label": "Countdown label", "default": "Next drop goes live in" },
    {
      "type": "text",
      "id": "countdown_target",
      "label": "Countdown target (YYYY-MM-DD or YYYY-MM-DDTHH:MM:SS)",
      "default": "2026-01-01T10:00:00"
    },

    { "type": "checkbox", "id": "enable_newsletter", "label": "Enable newsletter", "default": true },
    { "type": "text", "id": "newsletter_heading", "label": "Newsletter heading", "default": "Get notified first" },
    {
      "type": "text",
      "id": "newsletter_subheading",
      "label": "Newsletter subheading",
      "default": "Drops, offers & early access — straight to your inbox."
    },
    { "type": "text", "id": "newsletter_badge", "label": "Newsletter badge", "default": "VIP List" },
    {
      "type": "text",
      "id": "newsletter_placeholder",
      "label": "Newsletter placeholder",
      "default": "Enter your email"
    },
    { "type": "text", "id": "newsletter_button_text", "label": "Newsletter button", "default": "Notify me" },
    {
      "type": "text",
      "id": "newsletter_success",
      "label": "Newsletter success text",
      "default": "Done! You’re on the VIP list."
    },

    { "type": "text", "id": "social_instagram", "label": "Instagram URL", "default": "" },
    { "type": "text", "id": "social_youtube", "label": "YouTube URL", "default": "" },
    { "type": "text", "id": "social_facebook", "label": "Facebook URL", "default": "" },

    { "type": "text", "id": "bottom_line", "label": "Bottom line text", "default": "Made with love for beauty." }
  ],
  "blocks": [
    {
      "type": "chip",
      "name": "Feature chip",
      "settings": [{ "type": "text", "id": "text", "label": "Chip text", "default": "Cruelty-free" }]
    }
  ],
  "max_blocks": 6,
  "presets": [
    {
      "name": "Password Page",
      "blocks": [
        { "type": "chip", "settings": { "text": "Cruelty-free" } },
        { "type": "chip", "settings": { "text": "Skin-friendly" } },
        { "type": "chip", "settings": { "text": "Made for everyday glam" } }
      ]
    }
  ]
}
{% endschema %}
