import { LoadingBar } from './LoadingBar.js';
import { useExitOnCtrlC } from '../hooks/use-exit-on-ctrl-c.js';
import React, { useEffect, useState } from 'react';
import { useApp } from 'ink';
const SingleTask = ({ taskPromise, title, noColor }) => {
    const [isDone, setIsDone] = useState(false);
    const { exit: unmountInk } = useApp();
    useExitOnCtrlC();
    useEffect(() => {
        taskPromise
            .then(() => {
            setIsDone(true);
            unmountInk();
        })
            .catch((error) => {
            setIsDone(true);
            unmountInk(error);
        });
    }, [taskPromise, unmountInk]);
    if (isDone) {
        // clear things once done
        return null;
    }
    return React.createElement(LoadingBar, { title: title, noColor: noColor });
};
export { SingleTask };
//# sourceMappingURL=SingleTask.js.map