{"version":3,"file":"json.js","sourceRoot":"","sources":["../../../src/public/common/json.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,UAAU,EAAC,MAAM,kBAAkB,CAAA;AAE3C;;;;;;;;;;;;;;;GAeG;AACH,MAAM,UAAU,SAAS,CAAc,UAAkB,EAAE,OAAgB;IACzE,IAAI,CAAC;QACH,OAAO,IAAI,CAAC,KAAK,CAAC,UAAU,CAAM,CAAA;IACpC,CAAC;IAAC,OAAO,KAAK,EAAE,CAAC;QACf,MAAM,YAAY,GAAG,KAAK,YAAY,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAA;QAC3E,MAAM,cAAc,GAAG,OAAO,CAAC,CAAC,CAAC,SAAS,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,CAAA;QACxD,MAAM,IAAI,UAAU,CAAC,uBAAuB,cAAc,MAAM,YAAY,EAAE,CAAC,CAAA;IACjF,CAAC;AACH,CAAC","sourcesContent":["import {AbortError} from '../node/error.js'\n\n/**\n * Safely parse JSON with helpful error messages.\n *\n * @param jsonString - The JSON string to parse.\n * @param context - Optional context about what's being parsed (e.g., file path, \"API response\").\n * @returns The parsed JSON object.\n * @throws AbortError if JSON is malformed.\n *\n * @example\n * // Parse with context\n * const data = parseJSON(jsonString, '/path/to/config.json')\n *\n * @example\n * // Parse without context\n * const data = parseJSON(jsonString)\n */\nexport function parseJSON<T = unknown>(jsonString: string, context?: string): T {\n  try {\n    return JSON.parse(jsonString) as T\n  } catch (error) {\n    const errorMessage = error instanceof Error ? error.message : String(error)\n    const contextMessage = context ? ` from ${context}` : ''\n    throw new AbortError(`Failed to parse JSON${contextMessage}.\\n${errorMessage}`)\n  }\n}\n"]}