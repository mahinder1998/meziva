{"version":3,"file":"hidden-folder.js","sourceRoot":"","sources":["../../../src/public/node/hidden-folder.ts"],"names":[],"mappings":"AAAA,OAAO,EAAC,QAAQ,EAAC,MAAM,WAAW,CAAA;AAClC,OAAO,EAAC,KAAK,EAAE,SAAS,EAAE,UAAU,EAAC,MAAM,SAAS,CAAA;AACpD,OAAO,EAAC,WAAW,EAAE,aAAa,EAAE,WAAW,EAAC,MAAM,aAAa,CAAA;AAEnE,MAAM,kBAAkB,GAAG,UAAU,CAAA;AAErC;;;;;;GAMG;AACH,MAAM,CAAC,KAAK,UAAU,8BAA8B,CAAC,SAAiB;IACpE,MAAM,YAAY,GAAG,QAAQ,CAAC,SAAS,EAAE,kBAAkB,CAAC,CAAA;IAC5D,MAAM,aAAa,GAAG,QAAQ,CAAC,YAAY,EAAE,YAAY,CAAC,CAAA;IAC1D,gDAAgD;IAChD,MAAM,CAAC,YAAY,EAAE,eAAe,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,UAAU,CAAC,aAAa,CAAC,CAAC,CAAC,CAAA;IAChH,IAAI,CAAC,YAAY,EAAE,CAAC;QAClB,WAAW,CAAC,aAAa,CAAA,sCAAsC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;QACnG,MAAM,KAAK,CAAC,YAAY,CAAC,CAAA;IAC3B,CAAC;IACD,IAAI,CAAC,eAAe,EAAE,CAAC;QACrB,WAAW,CAAC,aAAa,CAAA,0BAA0B,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAA;QACvF,MAAM,SAAS,CAAC,aAAa,EAAE,uBAAuB,kBAAkB,eAAe,CAAC,CAAA;IAC1F,CAAC;IACD,OAAO,YAAY,CAAA;AACrB,CAAC","sourcesContent":["import {joinPath} from './path.js'\nimport {mkdir, writeFile, fileExists} from './fs.js'\nimport {outputDebug, outputContent, outputToken} from './output.js'\n\nconst HIDDEN_FOLDER_NAME = '.shopify'\n\n/**\n * Gets the path to the hidden .shopify folder for a given project directory.\n * Creates the folder if it doesn't exist.\n *\n * @param directory - The directory of the project.\n * @returns The path to the created hidden folder.\n */\nexport async function getOrCreateHiddenShopifyFolder(directory: string): Promise<string> {\n  const hiddenFolder = joinPath(directory, HIDDEN_FOLDER_NAME)\n  const gitignorePath = joinPath(hiddenFolder, '.gitignore')\n  // Check if both the folder and .gitignore exist\n  const [folderExists, gitignoreExists] = await Promise.all([fileExists(hiddenFolder), fileExists(gitignorePath)])\n  if (!folderExists) {\n    outputDebug(outputContent`Creating hidden .shopify folder at ${outputToken.path(hiddenFolder)}...`)\n    await mkdir(hiddenFolder)\n  }\n  if (!gitignoreExists) {\n    outputDebug(outputContent`Creating .gitignore in ${outputToken.path(hiddenFolder)}...`)\n    await writeFile(gitignorePath, `# Ignore the entire ${HIDDEN_FOLDER_NAME} directory\\n*`)\n  }\n  return hiddenFolder\n}\n"]}