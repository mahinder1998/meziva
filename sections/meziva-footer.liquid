{%- comment -%}
  FILE: sections/meziva-footer.liquid
  Meziva • Footer (compact)
  - Newsletter subscribe (Shopify customer form)
  - Only: Refund Policy, Privacy Policy, Terms & Conditions
  - mb- Tailwind prefix
{%- endcomment -%}

<footer
  id="meziva-footer-{{ section.id }}"
  class="mb-w-full"
  style="background-color: {{ section.settings.section_bg }};
    padding-top: {{ section.settings.padding_top_mobile }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile }}px;"
>
  <div
    class="mb-mx-auto mb-px-4 md:mb-px-6 mb-pt-8 md:mb-pt-10 mb-pb-5"
    style="max-width: {{ section.settings.container_max_width }}px;"
  >
    <div class="mb-grid md:mb-grid-cols-[1fr_1fr_1fr] mb-gap-6 md:mb-gap-8 mb-items-start">
      <!-- Brand + short text -->
      <div>
        <div class="mb-flex mb-items-center mb-gap-3">
          {% if section.settings.logo != blank %}
            <img
              src="{{ section.settings.logo | image_url: width: 240 }}"
              alt="{{ section.settings.brand_name | escape }}"
              class="mb-h-[24px] mb-w-auto"
              loading="lazy"
            >
          {% endif %}

          <div
            class="mb-text-[16px] mb-font-semibold mb-leading-none"
            style="color: {{ section.settings.heading_color }};"
          >
            {{ section.settings.brand_name }}
          </div>
        </div>

        {% if section.settings.tagline != blank %}
          <p
            class="mb-mt-2 mb-mb-0 mb-text-[13px] mb-leading-[1.6] mb-opacity-80"
            style="color: {{ section.settings.text_color }};"
          >
            {{ section.settings.tagline }}
          </p>
        {% endif %}
      </div>

        <!-- Policies + Social (compact) -->
      <div class="md:mb-justify-self-end">
        <div class="mb-text-[13px] mb-font-semibold" style="color: {{ section.settings.heading_color }};">Policies</div>

        <ul class="mb-mt-3 mb-space-y-2">
          {% if section.settings.refund_policy_link != blank %}
            <li>
              <a
                class="mb-text-[13px] mb-opacity-80 hover:mb-opacity-100"
                style="color: {{ section.settings.text_color }};"
                href="{{ section.settings.refund_policy_link }}"
              >
                Refund Policy
              </a>
            </li>
          {% endif %}
          {% if section.settings.privacy_policy_link != blank %}
            <li>
              <a
                class="mb-text-[13px] mb-opacity-80 hover:mb-opacity-100"
                style="color: {{ section.settings.text_color }};"
                href="{{ section.settings.privacy_policy_link }}"
              >
                Privacy Policy
              </a>
            </li>
          {% endif %}
          {% if section.settings.terms_link != blank %}
            <li>
              <a
                class="mb-text-[13px] mb-opacity-80 hover:mb-opacity-100"
                style="color: {{ section.settings.text_color }};"
                href="{{ section.settings.terms_link }}"
              >
                Terms & Conditions
              </a>
            </li>
          {% endif %}
        </ul>

        {% if section.settings.show_social %}
          <div class="mb-mt-4 mb-flex mb-items-center mb-gap-2">
            {% if section.settings.social_instagram != blank %}
              <a
                href="{{ section.settings.social_instagram }}"
                class="mb-h-9 mb-w-9 mb-rounded-full mb-border mb-border-black/10 mb-bg-white/80 mb-grid mb-place-items-center"
                aria-label="Instagram"
              >
                <svg
                  class="mb-h-5 mb-w-5"
                  viewBox="0 0 24 24"
                  fill="none"
                  aria-hidden="true"
                  style="color: {{ section.settings.icon_color }};"
                >
                  <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M17.5 6.5h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                </svg>
              </a>
            {% endif %}

            {% if section.settings.social_youtube != blank %}
              <a
                href="{{ section.settings.social_youtube }}"
                class="mb-h-9 mb-w-9 mb-rounded-full mb-border mb-border-black/10 mb-bg-white/80 mb-grid mb-place-items-center"
                aria-label="YouTube"
              >
                <svg
                  class="mb-h-5 mb-w-5"
                  viewBox="0 0 24 24"
                  fill="none"
                  aria-hidden="true"
                  style="color: {{ section.settings.icon_color }};"
                >
                  <path d="M22 12s0-4-1-6c-1-1-3-1-3-1H6S4 5 3 6C2 8 2 12 2 12s0 4 1 6c1 1 3 1 3 1h12s2 0 3-1c1-2 1-6 1-6Z" stroke="currentColor" stroke-width="2"/>
                  <path d="M10 15V9l5 3-5 3Z" fill="currentColor"/>
                </svg>
              </a>
            {% endif %}
          </div>
        {% endif %}
      </div>

      <!-- Newsletter (compact) -->
      <div>
        {% if section.settings.show_newsletter %}
          <div class="mb-text-[13px] mb-font-semibold" style="color: {{ section.settings.heading_color }};">
            {{ section.settings.newsletter_heading }}
          </div>

          {%- form 'customer', id: 'MezivaFooterNewsletterForm', class: 'mb-mt-3' -%}
            <input type="hidden" name="contact[tags]" value="newsletter">

            <div class="mb-flex mb-items-stretch mb-gap-2">
              <label class="mb-sr-only" for="MezivaFooterEmail-{{ section.id }}">Email</label>
              <input
                id="MezivaFooterEmail-{{ section.id }}"
                type="email"
                name="contact[email]"
                autocomplete="email"
                placeholder="{{ section.settings.newsletter_placeholder }}"
                required
                class="mb-flex-1 mb-h-[40px] mb-rounded-[12px] mb-border mb-border-black/10 mb-bg-white/85 mb-px-3 mb-text-[13px] focus:mb-outline-none"
                style="color: {{ section.settings.heading_color }};"
              >

              <button
                type="submit"
                class="mb-h-[40px] mb-rounded-[12px] mb-px-4 mb-text-[13px] mb-font-semibold mb-border mb-border-black/10"
                style="background: {{ section.settings.cta_bg }}; color: {{ section.settings.cta_text }};"
              >
                {{ section.settings.newsletter_button }}
              </button>
            </div>

            {%- if form.posted_successfully? -%}
              <p
                class="mb-mt-2 mb-text-[12px] mb-leading-[1.5] mb-opacity-80"
                style="color: {{ section.settings.text_color }};"
              >
                {{ section.settings.success_text }}
              </p>
            {%- endif -%}

            {%- if form.errors -%}
              <p class="mb-mt-2 mb-text-[12px] mb-leading-[1.5]" style="color: {{ section.settings.error_color }};">
                {{ form.errors | default_errors }}
              </p>
            {%- endif -%}
          {%- endform -%}

         
        {% endif %}
      </div>

    
    </div>

    <!-- Bottom line -->
    <div class="mb-mt-7 md:mb-mt-8 mb-pt-4 mb-border-t mb-border-black/10 mb-flex mb-flex-col md:mb-flex-row md:mb-items-center md:mb-justify-between mb-gap-2">
      <div class="mb-text-[12px] mb-opacity-70" style="color: {{ section.settings.text_color }};">
        © {{ 'now' | date: '%Y' }}
        {{ section.settings.brand_name }}. {{ section.settings.copyright_text }}
      </div>
    </div>
  </div>
</footer>

{% schema %}
{
  "name": "Meziva • Footer (Compact)",
  "settings": [
    { "type": "header", "content": "Section Spacing" },
    { "type": "range", "id": "padding_top_mobile", "label": "Padding Top (Mobile)", "min": 0, "max": 120, "step": 4, "default": 40, "unit": "px" },
    { "type": "range", "id": "padding_bottom_mobile", "label": "Padding Bottom (Mobile)", "min": 0, "max": 120, "step": 4, "default": 40, "unit": "px" },
    { "type": "range", "id": "padding_top_desktop", "label": "Padding Top (Desktop)", "min": 0, "max": 160, "step": 4, "default": 80, "unit": "px" },
    { "type": "range", "id": "padding_bottom_desktop", "label": "Padding Bottom (Desktop)", "min": 0, "max": 160, "step": 4, "default": 80, "unit": "px" },

    { "type": "color", "id": "section_bg", "label": "Section BG", "default": "#fff5f9" },
    { "type": "text", "id": "brand_name", "label": "Brand name", "default": "Meziva" },
    { "type": "image_picker", "id": "logo", "label": "Logo (optional)" },
    {
      "type": "textarea",
      "id": "tagline",
      "label": "Tagline",
      "default": "Clean beauty essentials — built for everyday comfort and a natural glow."
    },

    { "type": "checkbox", "id": "show_newsletter", "label": "Show newsletter", "default": true },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter heading",
      "default": "Get early access + offers"
    },
    { "type": "text", "id": "newsletter_placeholder", "label": "Email placeholder", "default": "Enter your email" },
    { "type": "text", "id": "newsletter_button", "label": "Button label", "default": "Subscribe" },
    { "type": "text", "id": "success_text", "label": "Success text", "default": "Thanks! You’re on the list." },
    
    { "type": "url", "id": "refund_policy_link", "label": "Refund policy link" },
    { "type": "url", "id": "privacy_policy_link", "label": "Privacy policy link" },
    { "type": "url", "id": "terms_link", "label": "Terms & Conditions link" },

    { "type": "checkbox", "id": "show_social", "label": "Show social icons", "default": true },
    { "type": "url", "id": "social_instagram", "label": "Instagram URL" },
    { "type": "url", "id": "social_youtube", "label": "YouTube URL" },

    { "type": "textarea", "id": "copyright_text", "label": "Copyright text", "default": "All rights reserved." },

    {
      "type": "range",
      "id": "container_max_width",
      "label": "Container max width (px)",
      "min": 960,
      "max": 1400,
      "step": 20,
      "default": 1200
    },

    { "type": "color", "id": "bg_color", "label": "Background", "default": "#FFFFFF" },
    { "type": "color", "id": "heading_color", "label": "Heading color", "default": "#1A1A1A" },
    { "type": "color", "id": "text_color", "label": "Text color", "default": "#2A2A2A" },

    { "type": "color", "id": "cta_bg", "label": "Button bg", "default": "#111111" },
    { "type": "color", "id": "cta_text", "label": "Button text", "default": "#FFFFFF" },
    { "type": "color", "id": "icon_color", "label": "Icon color", "default": "#1A1A1A" },
    { "type": "color", "id": "error_color", "label": "Error color", "default": "#B00020" }
  ],
  "presets": [{ "name": "Meziva • Footer (Compact)" }]
}
{% endschema %}
